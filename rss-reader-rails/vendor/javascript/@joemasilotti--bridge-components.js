// @joemasilotti/bridge-components@0.12.0 downloaded from https://ga.jspm.io/npm:@joemasilotti/bridge-components@0.12.0/web/controllers/index.js

import{BridgeComponent as t,BridgeElement as e}from"@hotwired/hotwire-native-bridge";class AlertBridgeController extends t{static component="alert";#t=true;show(t){if(this.#t){t.stopImmediatePropagation();t.preventDefault();this.#e()}}#e(){const t=this.bridgeElement;const e=t.title||"Are you sure?";const o=t.bridgeAttribute("description");const r=t.bridgeAttribute("destructive")=="true";const n=t.bridgeAttribute("confirm")||"OK";const i=t.bridgeAttribute("dismiss")||"Cancel";const s={title:e,description:o,destructive:r,confirm:n,dismiss:i};this.send("show",s,(()=>{this.#t=false;this.bridgeElement.click();this.#t=true}))}}class BarcodeScannerBridgeController extends t{static component="barcode-scanner";static targets=["result"];scan(t){t.stopImmediatePropagation();t.preventDefault();this.#o()}#o(){this.hasResultTarget&&(this.resultTarget.innerHTML="");this.send("scan",{},(t=>{const e=t.data.barcode;const o={barcode:e};this.dispatch("scanned",{detail:o});this.hasResultTarget&&(this.resultTarget.innerHTML=`You scanned <code>${e}</code>.`)}))}}class BiometricsLockBridgeController extends t{static component="biometrics-lock";connect(){super.connect();this.send("reenable")}enable(){this.send("enable")}disable(){this.send("disable")}}class ButtonBridgeController extends t{static component="button";connect(){super.connect();this.#r()}disconnect(){super.disconnect();this.#n()}#r(){const t=this.bridgeElement;const e=t.bridgeAttribute("side")||"right";const o=t.bridgeAttribute("ios-image");const r=t.bridgeAttribute("android-image");const n=t.bridgeAttribute("color");const i={title:t.title,iosImage:o,androidImage:r,color:n};this.send(e,i,(()=>{this.element.click()}))}#n(){this.send("disconnect")}}class DocumentScannerBridgeController extends t{static component="document-scanner";static targets=["result"];scan(t){t.stopImmediatePropagation();t.preventDefault();this.#o()}#o(){this.resultTarget.innerHTML="";this.send("scan",{},(t=>{const e=t.data.imageData;const o=this.#i(e.trim(),"image/jpeg");const r=URL.createObjectURL(o);const n=document.createElement("img");n.src=r;this.resultTarget.appendChild(n);n.onload=()=>URL.revokeObjectURL(r)}))}#i(t,e){const o=atob(t);const r=new Array(o.length);for(let t=0;t<o.length;t++)r[t]=o.charCodeAt(t);const n=new Uint8Array(r);return new Blob([n],{type:e})}}class FormBridgeController extends t{static component="form";static targets=["submit"];connect(){super.connect();this.#r()}disconnect(){super.disconnect();this.#n()}submitStart(t){this.submitTarget.disabled=true;this.send("disableSubmit")}submitEnd(t){this.submitTarget.disabled=false;this.send("enableSubmit")}#r(){const t=new e(this.submitTarget);const o=this.bridgeElement.bridgeAttribute("color");this.send("connect",{title:t.title,color:o},(()=>{this.submitTarget.click()}))}#n(){this.send("disconnect")}}class HapticBridgeController extends t{static component="haptic";vibrate(){const t=this.bridgeElement;const e=t.bridgeAttribute("feedback")||"success";this.send("vibrate",{feedback:e})}}class LocationBridgeController extends t{static component="location";static targets=["result"];get(t){t.stopImmediatePropagation();t.preventDefault();this.#s()}#s(){this.send("get",{},(t=>{const{latitude:e,longitude:o}=t.data;if(e===void 0||o===void 0){this.dispatch("error");this.hasResultTarget&&(this.resultTarget.innerText="Your location could not be found. Did you grant location permission?")}else{this.dispatch("retrieved",{detail:{latitude:e,longitude:o}});this.hasResultTarget&&(this.resultTarget.innerText=`Your location is ${e}, ${o}.`)}}))}}class MenuBridgeController extends t{static component="menu";static targets=["item"];connect(){super.connect();this.#c()}disconnect(){super.disconnect();this.#a()}#c(){const t=this.itemTargets.map((t=>{const o=new e(t);return{title:o.title,iosImage:o.bridgeAttribute("ios-image"),androidImage:o.bridgeAttribute("android-image")}}));const o=this.bridgeElement.bridgeAttribute("color");this.send("connect",{items:t,color:o},(t=>{const o=this.itemTargets[t.data.index];new e(o).click()}))}#a(){this.send("disconnect")}}class NFCBridgeController extends t{static component="nfc";static targets=["value","result"];read(t){t.stopImmediatePropagation();t.preventDefault();this.#d()}write(t){t.stopImmediatePropagation();t.preventDefault();this.#l()}#d(){this.resultTarget.innerHTML="";this.send("read",{},(t=>{const e=t.data.type;const o=t.data.value;this.resultTarget.innerHTML=`You scanned a <code>${e}</code> value:<br><code>${o}</code>`}))}#l(){const t=this.valueTarget.value;this.send("write",{value:t})}}class NotificationTokenBridgeController extends t{static component="notification-token";static targets=["token"];connect(){super.connect();this.send("connect")}get(t){t.stopImmediatePropagation();t.preventDefault();this.#g()}#g(){this.send("get",{},(t=>{const e=t.data.token;const o={token:e};this.dispatch("retrieved",{detail:o});this.hasTokenTarget&&(this.tokenTarget.innerText=`Your notification token is: ${e}.`)}))}}class PermissionsBridgeController extends t{static component="permissions";static targets=["cameraStatus","cameraCode","locationStatus","locationCode","notificationsStatus","notificationsCode"];connect(){super.connect();this.#u();this.#s();this.#h()}#u(){this.send("camera",{},(t=>{const{code:e,text:o}=t.data;this.cameraStatusTarget.innerText=o;this.cameraCodeTarget.innerHTML=`<code>${e}</code>`}))}#s(){this.send("location",{},(t=>{const{code:e,text:o}=t.data;this.locationStatusTarget.innerText=o;this.locationCodeTarget.innerHTML=`<code>${e}</code>`}))}#h(){this.send("notifications",{},(t=>{const{code:e,text:o}=t.data;this.notificationsStatusTarget.innerText=o;this.notificationsCodeTarget.innerHTML=`<code>${e}</code>`}))}}class ReviewPromptBridgeController extends t{static component="review-prompt";prompt(t){t.stopImmediatePropagation();t.preventDefault();this.#m()}#m(){this.send("prompt")}}class SearchBridgeController extends t{static component="search";connect(){super.connect();this.send("connect",{},(t=>{const e=t.data.query;const o={query:e};this.dispatch("queried",{detail:o})}))}}class ShareBridgeController extends t{static component="share";connect(){super.connect();this.#r()}#r(){const t=this.bridgeElement;const e=t.bridgeAttribute("url")||window.location.href;const o=t.bridgeAttribute("color");this.send("connect",{url:e,color:o},(()=>{}))}}class ThemeBridgeController extends t{static component="theme";static values={theme:String};connect(){super.connect();this.#b()}themeValueChanged(){this.#b()}#b(){const t=this.themeValue;this.send("connect",{theme:t})}}class ToastBridgeController extends t{static component="toast";show(t){t.stopImmediatePropagation();t.preventDefault();this.#p()}#p(){const t=this.bridgeElement.bridgeAttribute("message");this.send("show",{message:t},(()=>{}))}}
/** @type {import("@hotwired/stimulus").Definition[]} */const o=[{identifier:"bridge--alert",controllerConstructor:AlertBridgeController},{identifier:"bridge--barcode-scanner",controllerConstructor:BarcodeScannerBridgeController},{identifier:"bridge--biometrics-lock",controllerConstructor:BiometricsLockBridgeController},{identifier:"bridge--button",controllerConstructor:ButtonBridgeController},{identifier:"bridge--document-scanner",controllerConstructor:DocumentScannerBridgeController},{identifier:"bridge--form",controllerConstructor:FormBridgeController},{identifier:"bridge--haptic",controllerConstructor:HapticBridgeController},{identifier:"bridge--location",controllerConstructor:LocationBridgeController},{identifier:"bridge--menu",controllerConstructor:MenuBridgeController},{identifier:"bridge--nfc",controllerConstructor:NFCBridgeController},{identifier:"bridge--notification-token",controllerConstructor:NotificationTokenBridgeController},{identifier:"bridge--permissions",controllerConstructor:PermissionsBridgeController},{identifier:"bridge--review-prompt",controllerConstructor:ReviewPromptBridgeController},{identifier:"bridge--search",controllerConstructor:SearchBridgeController},{identifier:"bridge--share",controllerConstructor:ShareBridgeController},{identifier:"bridge--theme",controllerConstructor:ThemeBridgeController},{identifier:"bridge--toast",controllerConstructor:ToastBridgeController}];export{AlertBridgeController,BarcodeScannerBridgeController,BiometricsLockBridgeController,ButtonBridgeController,DocumentScannerBridgeController,FormBridgeController,HapticBridgeController,LocationBridgeController,MenuBridgeController,NFCBridgeController,NotificationTokenBridgeController,PermissionsBridgeController,ReviewPromptBridgeController,SearchBridgeController,ShareBridgeController,ThemeBridgeController,ToastBridgeController,o as controllers};

