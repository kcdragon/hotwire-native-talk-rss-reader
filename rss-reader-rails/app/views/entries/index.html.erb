<% showing_liked_entries = params[:filter] == "liked" %>

<%= content_for :title, showing_liked_entries ? "Liked Entries" : "Entries" %>

<%= turbo_frame_tag "entries" do %>
  <div class="max-w-4xl mx-auto p-6 space-y-6">
    <h1 class="hotwire-native:hidden text-2xl font-bold"><%= showing_liked_entries ? "Liked Entries" : "Entries" %></h1>

    <div class="hotwire-native:hidden flex gap-2" data-controller="bridge--menu">
      <%= link_to "All", entries_path, class: "btn-#{params[:filter].blank? ? 'primary' : 'outline'}", data: { turbo_action: "replace", "bridge--menu-target": "item", "bridge-title": "Show All" } %>
      <%= link_to "Liked", entries_path(filter: "liked"), class: "btn-#{params[:filter] == 'liked' ? 'primary' : 'outline'}", data: { turbo_action: "replace", "bridge--menu-target": "item", "bridge-title": "Show Only Liked" } %>
    </div>

    <% if @entries.any? %>
      <div class="flex flex-col gap-4">
        <% @entries.each do |entry| %>
          <%= render "entries/card", entry: entry %>
        <% end %>
      </div>
    <% else %>
      <p class="text-muted-foreground text-center md:text-left">
        There are no entries yet. Add a feed to get started.
      </p>
    <% end %>
  </div>
<% end %>

